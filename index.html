<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FAKE NEWS DETECTOR</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:900,700,400&display=swap" rel="stylesheet">
    <style>
        /* --- KEEP ALL YOUR EXISTING CSS EXACTLY AS BEFORE! --- */
        body { background: #181c29; min-height: 100vh; color: #fff; font-family: 'Montserrat', Arial, sans-serif; margin: 0; padding: 0; overflow: hidden; }
        .stars { position: fixed; width: 100vw; height: 100vh; left: 0; top: 0; pointer-events: none; z-index: 0; }
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0.96; box-shadow: 0 0 6px 1px #fff8; animation: twinkle 2s infinite alternate; }
        @keyframes twinkle { to { opacity: 0.15; } }
        .container { position: relative; z-index: 5; background: rgba(25, 27, 40, 0.96); box-shadow: 0 6px 38px #000A; border-radius: 16px; max-width: 420px; margin: 62px auto 0 auto; padding: 2.5em 2em 2em 2em; text-align: center; }
        h1 { font-size:2.6em; font-weight:900; letter-spacing:2.5px; text-transform:uppercase; background:linear-gradient(90deg,#ffe259 40%,#ff5151 100%); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; color:transparent; text-align:center; margin:0 auto 0.32em auto; display:block; text-shadow:0 3px 18px #8f6b0230, 0 2px 5px #111c; }
        .subtitle { color: #ffe259; letter-spacing: 2.2px; font-size: 1.1em; margin-bottom: 18px; font-weight: 700; }
        label { display: block; text-align: left; font-weight: 600; color: #fee; margin-bottom: 5px; font-size: 1.06em; }
        textarea { width: 95%; border-radius: 8px; border: 1.5px solid #444; background: #272b3e; color: #eee; font-size: 1em; padding: 0.8em; margin-bottom: 1.1em; font-family: inherit; resize: vertical; transition: box-shadow 0.2s; }
        textarea:focus { outline: none; box-shadow: 0 0 0 3px #ffe25955; background: #222538; }
        button { background: linear-gradient(90deg, #ff5151, #ffe259); color: #181c29; font-weight: bold; border: none; border-radius: 24px; font-size: 1.1em; padding: 0.69em 2em; margin-top: 7px; margin-bottom: 10px; cursor: pointer; box-shadow: 0 3px 15px #ffe25940; transition: background 0.2s, color 0.2s; }
        button:hover { background: linear-gradient(90deg, #ffe259, #ff5151); color: #272b3e; }
        .result { margin: 2em auto 0 auto; font-weight: bold; font-size: 1.16em; border-radius: 14px; max-width: 410px; text-align: center; animation: slideFade 0.8s; box-shadow: 0 4px 26px #0007; }
        @keyframes slideFade { from {opacity: 0; transform: translateY(25px);} to   {opacity: 1; transform: translateY(0);} }
        .real { background: linear-gradient(95deg,#0e422e 60%,#38ef7d 100%); color: #fff; border: 1.5px solid #38ef7dcc; box-shadow: 0 0 30px 3px #38ef7d30; }
        .fake { background: linear-gradient(92deg,#4e221b 60%,#ff5151 100%); color: #fff3f3; border: 1.5px solid #ff5151bb; box-shadow: 0 0 30px 4px #ff515150; }
        .result .emoji { font-size:2.5em; margin-top:.2em; display:block; margin-bottom:.18em; animation: pop 0.6s; }
        .result .fire { font-size:1.5em; display:inline-block; margin-left:.3em; animation: flame 1s infinite linear; }
        @keyframes flame { 50% { transform: scale(1.2) translateY(-4px);} 90% { filter: brightness(1.3);} }
        @keyframes pop { 0% { transform: scale(0);} 90% { transform: scale(1.21);} 100% { transform: scale(1);} }
        .confidence { color: #ffe259; font-size:1.1em; margin-top:0.7em; }
        .footer { margin-top: 1.7em; color: #433; font-size: 1.01em; text-align: center; letter-spacing:2px; }
        .footer-emoji { font-size:1.15em; }
    </style>
</head>
<body>
    <div class="stars"></div>
    <div class="container">
        <h1>FAKE NEWS DETECTOR</h1>
        <div class="subtitle">CHECK CREDIBILITY IN SECONDS</div>
        <form method="POST" id="newsForm">
            <label for="news">NEWS HEADLINE OR TEXT:</label>
            <textarea name="news" id="news" placeholder="Paste or write a headline..." required>{{ request.form.news or "" }}</textarea>
            <button type="submit">Analyze üöÄ</button>
        </form>

        {% if prediction %}
          <div class="result {{ prediction.lower() }}">
            {% if prediction == 'REAL' %}
                <span class="emoji">‚úÖ <span class="fire">üî•</span></span>
                <div>NEWS SEEMS REAL!</div>
            {% else %}
                <audio id="siren" src="https://cdn.pixabay.com/audio/2022/03/15/audio_115b9cb9b6.mp3" autoplay></audio>
                <span class="emoji">üö® ‚ùå</span>
                <div>FAKE NEWS DETECTED!</div>
            {% endif %}
            <div class="confidence">AI Confidence: {{ confidence }}%</div>
          </div>
          {% if fact_check %}
            <div style="margin-top:1em; color:#ffc700; font-size:1.1em;">
              {{ fact_check }}
            </div>
          {% endif %}
        {% endif %}

        <div class="footer">
            Made with <span class="footer-emoji">‚≠ê</span> & wisdom!
        </div>
    </div>
    <script>
      let container = document.querySelector('.stars');
      for(let i=1; i<=80; i++){
         let s = document.createElement('div');
         s.className = 'star';
         let size = Math.random()*2 + 1;
         s.style.width = size+'px';
         s.style.height = size+'px';
         s.style.left = (Math.random()*100) + 'vw';
         s.style.top  = (Math.random()*100) + 'vh';
         s.style.animationDuration = (1+Math.random()*2.5) + 's';
         container.appendChild(s);
      }
      {% if prediction and prediction != 'REAL' %}
         setTimeout(()=>{document.getElementById('siren').play();},150);
      {% endif %}
    </script>
</body>
</html>
